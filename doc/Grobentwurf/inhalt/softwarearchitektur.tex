% Kapitel 3 mit den entsprechenden Unterkapiteln
% Die Unterkapitel können auch in separaten Dateien stehen,
% die dann mit dem \include-Befehl eingebunden werden.
%------------------------------------------------------------------------------------
\chapter{Resultierende Softwarearchitektur}

Dieser Abschnitt hat die Aufgabe, einen Überblick über die zu entwickelnden
Komponenten und Subsysteme zu liefern.
\section{Komponentenspezifikation}

%In diesem Abschnitt wird die aus der Analyse der Produktfunktionen (Kapitel 2)
%resultierende Komponentenstruktur zunächst überblickartig durch ein
%Komponentendiagramm beschrieben. Die Bezeichnungen und Anzahl der Komponenten
%muss natürlich konsistent sein mit der in Kapitel 2!
Bei der Analyse der notwendigen Komponenten fallen drei Komponentenbereiche auf.
Zum einen muss der Client beachtet werden, zum anderen gibt es den Server. Der
Server besteht aus der Django-App, den Templates und der Datenbank. Die App
benötigt noch die Views und den Adminbereich zur Kommunikation mit dem Client
und die Models für den Zugriff auf die Datenbank.

\begin{figure}[h]
    \begin{center}
\includegraphics[width=0.8\linewidth]{bilder/Komponentendiagramm.pdf}
\caption[Komponentendiagramm]{Komponentendiagramm}
\label{Komponentendiagramm}
    \end{center}
\end{figure}

\section{Schnittstellenspezifikation}

\begin{tabular}[ht]{|l|p{0.35\linewidth}|p{0.35\linewidth}|}
\hline
Schnittstelle & \multicolumn{2}{|c|}{Aufgabenbeschreibung}\\
\hline
\hline
/S10/ HTTP Request & \multicolumn{2}{|c|}{}\\
\hline
& search(String) : List & Die Suche liefert eine Liste mit den Ergebnissen\\
& signIn(String) : boolean & Anmelden des Benutzers\\
& signOut() : boolean & Abmelden des Benutzers\\
& import(data) : boolean & Import \\
& getHistory(String) : List & liefert eine Liste der Ausgeliehen Dokumente\\
& getDoc(String) : List & liefert die Dokumentinformationen in einer Liste\\
& getView(String) : View & liefert die View, die die Aufgabenstellung erfüllt\\
\hline
/S20/Export & \multicolumn{2}{|c|}{Exportieren von Informationen}\\
\hline
& exportBibTeX() : String & Liefert einen String welcher die
Dokumentinformationen im \BibTeX -Format enthält\\
& exportAllegro() : \Gls{glos:Allegro} -kompatible Datei & Liefert eine Datei für die
\Gls{UB}\\
\hline
/S30/Django & \multicolumn{2}{|c|}{Verbindung mit Datenbank}\\
\hline
& connect(String) : boolean & Verbindung zur Datenbank\\
& disconnect() : boolean & Verbindung wird beendet\\
& sendQuery(String) : List & liefert eine Liste des Ergebnisses\\
\hline
\end{tabular}





\section{Protokolle für die Benutzung der Komponenten}

In diesem Unterkapitel werden nun die Protokoll-Statecharts für alle Komponenten,
welche in dem Komponentendiagramm \ref{Komponentendiagramm} vorhanden sind, dargestellt.

Für jede dieser Komponenten ist eine Wiederverwendung begrenzt sinnvoll, da alle diese 
Komponenten sehr projektspezifisch gehalten werden müssen. Sie können unter Umständen in anderen Projekten eingesetzt werden, aber dann nur unter größten Anpassungsbedarf.

\begin{figure}
\includegraphics[width=0.8\linewidth]{bilder/KompClient.pdf}
\caption{Statechart für die Komponente Client}
\label{StClient}
\end{figure}

\begin{figure}
\includegraphics[width=0.8\linewidth]{bilder/KompView.pdf}
\caption{Statechart für die Komponente View}
\label{StView}
\end{figure}

\begin{figure}
\includegraphics[width=0.8\linewidth]{bilder/KompModel.pdf}
\caption{Statechart für die Komponente Model}
\label{StModel}
\end{figure}

\begin{figure}
\includegraphics[width=0.8\linewidth]{bilder/KompAdmin.pdf}
\caption{Statechart für die Komponente Admin}
\label{StAdmin}
\end{figure}

Die Komponente \textbf{DB} wird hier nicht modelliert, da diese zunächst trivial ist(Anfrage an DB -> DB liefert Ergebnis) und die \textbf{DB} vollkommen durch Django auf die Komponente \textbf{Models} gemappt wird.

Auch auf eine Darstellung der Komponente \textbf{Template} wird verzichtet, da ein Template nur einen wirklichen Zustand hat, und dies ist der des Existierens. 




%In diesem Abschnitt wird mit Hilfe von Protokoll-Statecharts die korrekte
%Verwendung der zu entwickelnden Komponenten dokumentiert. Dies ist insbesondere
%für diejenigen Komponenten notwendig, für die eine Wiederverwendung möglich
%erscheint oder sogar bereits geplant ist.

%Begründen Sie für welche Komponenten eine Wiederverwendung sinnvoll erscheint
%und für welche nicht!

%Fügen Sie so viele Statechartdiagramme ein, wie sie Komponenten gefunden haben.
